!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("firebase")):"function"==typeof define&&define.amd?define("index",["firebase"],n):"object"==typeof exports?exports.index=n(require("firebase")):e.index=n(e.firebase)}(this,function(e){return function(e){function n(i){if(o[i])return o[i].exports;var t=o[i]={i:i,l:!1,exports:{}};return e[i].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var o={};return n.m=e,n.c=o,n.i=function(e){return e},n.d=function(e,n,o){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/",n(n.s=5)}([function(e,n,o){"use strict";var i=o(4),t=(o.n(i),o(1)),r=this,u={user:null,profile:null,onUserChange:null,onLogout:null,onEmailVerified:null,onLogin:null,onError:null,init:function(e){return e&&e.fbAppId&&e.webClientId&&e.apiKey?(t.a.Facebook.init(e.fbAppId),void t.a.Google.init(e.apiKey,e.webClientId)):void console.error("FireAuth must be initialised with valid configuration for Facebook and Google APIs")},setup:function(e,n,o,t,u){r.onUserChange=n,r.onLogout=o,r.onEmailVerified=t,r.onLogin=e,r.onError=u,i.auth().onAuthStateChanged(function(e){if(e){var n="password"!=e.providerData[0].providerId||e.emailVerified,o=i.database().ref("profiles/"+e.uid);o.update({emailVerified:n,email:e.email}),o.on("value",function(n){var o=n.val();o.emailVerified&&r.profile&&!r.profile.val().emailVerified&&r.onEmailVerified&&r.onEmailVerified(),r.user?o&&r.onUserChange&&r.onUserChange(e,o):r.onLogin&&r.onLogin(e,o),r.profile=n,r.user=e})}else r.profile=null,r.user=null,r.onLogout&&r.onLogout()})},login:function(e,n){try{i.auth().signInWithEmailAndPassword(e,n).catch(function(e){return r.onError&&r.onError(e)})}catch(e){r.onError&&r.onError(e)}},register:function(e,n){try{i.auth().createUserWithEmailAndPassword(e,n).then(function(e){e.sendEmailVerification()}).catch(function(e){return r.onError&&r.onError(e)})}catch(e){r.onError&&r.onError(e)}},resendVerification:function(){r.user.sendEmailVerification()},facebookLogin:function(e){t.a.Facebook.login(e).then(function(e){return i.auth().signInWithCredential(i.auth.FacebookAuthProvider.credential(e))}).catch(function(e){return r.onError&&r.onError(e)})},googleLogin:function(){t.a.Google.login().then(function(e){return i.auth().signInWithCredential(i.auth.GoogleAuthProvider.credential(null,e))}).catch(function(e){return r.onError&&r.onError(e)})},logout:function(){i.auth().signOut()},update:function(e){var n=i.database().ref("profiles/"+r.user.uid);return n.update(e)},resetPassword:function(e){i.auth().sendPasswordResetEmail(e)},updatePassword:function(e){r.user.updatePassword(e)},linkWithGoogle:function(){},linkWithFacebook:function(){},linkWithEmail:function(){}};e.exports=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(u,"FireAuth","/Users/luke/simple-firebase-auth/index.js")}()},function(e,n,o){"use strict";var i=this;o(2),o(3);var t={init:function(e){window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.7"})}},login:function(e){return new Promise(function(n){return"undefined"!=typeof FB&&(FB.login(function(){FB.getAccessToken()&&n(FB.getAccessToken())},{scope:e||"public_profile,email"}),!0)})},logout:function(){return new Promise(function(e){return"undefined"!=typeof FB&&void FB.logout(function(n){return e(),!0})})}},r={init:function(e,n){i.apiKey=e,i.clientId=n},login:function(){return new Promise(function(e){gapi.client.setApiKey(i.apiKey),gapi.auth.authorize({client_id:i.clientId,scope:"email profile",prompt:"select_account"},function(n){n.access_token&&e(n.access_token)})})}},u={Facebook:t,Google:r};n.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(t,"Facebook","/Users/luke/simple-firebase-auth/auth.js"),__REACT_HOT_LOADER__.register(r,"Google","/Users/luke/simple-firebase-auth/auth.js"),__REACT_HOT_LOADER__.register(u,"default","/Users/luke/simple-firebase-auth/auth.js"))}()},function(e,n){"undefined"==typeof FB&&!function(e,n,o){var i,t=e.getElementsByTagName(n)[0];e.getElementById(o)||(i=e.createElement(n),i.id=o,i.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(i,t))}(document,"script","facebook-jssdk"),function(){"undefined"==typeof __REACT_HOT_LOADER__}()},function(e,n){if("undefined"==typeof gapi){var o=function(e,n){var o=document,i="script",t=o.createElement(i),r=o.getElementsByTagName(i)[0];t.src="//"+e,n&&t.addEventListener("load",function(e){n(null,e)},!1),r.parentNode.insertBefore(t,r)};o("apis.google.com/js/api.js",function(){gapi.load("client")})}!function(){"undefined"==typeof __REACT_HOT_LOADER__}()},function(n,o){n.exports=e},function(e,n,o){e.exports=o(0)}])});