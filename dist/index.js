!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("index",[],n):"object"==typeof exports?exports.index=n():e.index=n()}(this,function(){return function(e){function n(i){if(o[i])return o[i].exports;var t=o[i]={i:i,l:!1,exports:{}};return e[i].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var o={};return n.m=e,n.c=o,n.i=function(e){return e},n.d=function(e,n,o){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/",n(n.s=4)}([function(e,n,o){"use strict";var i=o(1),t=this,r={firebase:null,user:null,profile:null,onUserChange:null,onLogout:null,onEmailVerified:null,onLogin:null,onError:null,init:function(e,n){return e?n&&n.fbAppId&&n.webClientId&&n.apiKey?(t.firebase=e,i.a.Facebook.init(n.fbAppId),void i.a.Google.init(n.apiKey,n.webClientId)):void console.error("FireAuth must be initialised with valid configuration for Facebook and Google APIs"):void console.error("FireAuth must be initialised with Firebase")},setup:function(e,n,o,i,r){t.onUserChange=n,t.onLogout=o,t.onEmailVerified=i,t.onLogin=e,t.onError=r,t.firebase.auth().onAuthStateChanged(function(e){if(e){var n="password"!=e.providerData[0].providerId||e.emailVerified,o=t.firebase.database().ref("profiles/"+e.uid);o.update({emailVerified:n,email:e.email}),o.on("value",function(n){var o=n.val();o.emailVerified&&t.profile&&!t.profile.val().emailVerified&&t.onEmailVerified&&t.onEmailVerified(),t.user?o&&t.onUserChange&&t.onUserChange(e,o):t.onLogin&&t.onLogin(e,o),t.profile=n,t.user=e})}else t.profile=null,t.user=null,t.onLogout&&t.onLogout()})},login:function(e,n){try{t.firebase.auth().signInWithEmailAndPassword(e,n).catch(function(e){return t.onError&&t.onError(e)})}catch(e){t.onError&&t.onError(e)}},register:function(e,n){try{t.firebase.auth().createUserWithEmailAndPassword(e,n).then(function(e){e.sendEmailVerification()}).catch(function(e){return t.onError&&t.onError(e)})}catch(e){t.onError&&t.onError(e)}},resendVerification:function(){t.user.sendEmailVerification()},facebookLogin:function(e){i.a.Facebook.login(e).then(function(e){return t.firebase.auth().signInWithCredential(t.firebase.auth.FacebookAuthProvider.credential(e))}).catch(function(e){return t.onError&&t.onError(e)})},googleLogin:function(){i.a.Google.login().then(function(e){return t.firebase.auth().signInWithCredential(t.firebase.auth.GoogleAuthProvider.credential(null,e))}).catch(function(e){return t.onError&&t.onError(e)})},logout:function(){t.firebase.auth().signOut()},update:function(e){var n=t.firebase.database().ref("profiles/"+t.user.uid);return n.update(e)},resetPassword:function(e){t.firebase.auth().sendPasswordResetEmail(e)},updatePassword:function(e){t.user.updatePassword(e)},linkWithGoogle:function(){},linkWithFacebook:function(){},linkWithEmail:function(){}};e.exports=r,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"FireAuth","/Users/luke/Projects/simple-firebase-auth/index.js")}()},function(e,n,o){"use strict";var i=this;o(2),o(3);var t={init:function(e){window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.7"})}},login:function(e){return new Promise(function(n){return"undefined"!=typeof FB&&(FB.login(function(){FB.getAccessToken()&&n(FB.getAccessToken())},{scope:e||"public_profile,email"}),!0)})},logout:function(){return new Promise(function(e){return"undefined"!=typeof FB&&void FB.logout(function(n){return e(),!0})})}},r={init:function(e,n){i.apiKey=e,i.clientId=n},login:function(){return new Promise(function(e){gapi.client.setApiKey(i.apiKey),gapi.auth.authorize({client_id:i.clientId,scope:"email profile",prompt:"select_account"},function(n){n.access_token&&e(n.access_token)})})}},u={Facebook:t,Google:r};n.a=u,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(t,"Facebook","/Users/luke/Projects/simple-firebase-auth/auth.js"),__REACT_HOT_LOADER__.register(r,"Google","/Users/luke/Projects/simple-firebase-auth/auth.js"),__REACT_HOT_LOADER__.register(u,"default","/Users/luke/Projects/simple-firebase-auth/auth.js"))}()},function(e,n){"undefined"==typeof FB&&!function(e,n,o){var i,t=e.getElementsByTagName(n)[0];e.getElementById(o)||(i=e.createElement(n),i.id=o,i.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(i,t))}(document,"script","facebook-jssdk"),function(){"undefined"==typeof __REACT_HOT_LOADER__}()},function(e,n){if("undefined"==typeof gapi){var o=function(e,n){var o=document,i="script",t=o.createElement(i),r=o.getElementsByTagName(i)[0];t.src="//"+e,n&&t.addEventListener("load",function(e){n(null,e)},!1),r.parentNode.insertBefore(t,r)};o("apis.google.com/js/api.js",function(){gapi.load("client")})}!function(){"undefined"==typeof __REACT_HOT_LOADER__}()},function(e,n,o){e.exports=o(0)}])});